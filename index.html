<!doctype html>
<link>
<link>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../assets/css/IntegralCheckIn.css" rel="stylesheet"></link>
  <link href="../assets/css/base.css" rel="stylesheet"></link>
	<link href="../assets/css/font.css" rel="stylesheet"></link>
	<link href="../assets/css/calendar.css" rel="stylesheet"></link>
  <title>积分-签到首页</title>
</head>
<body class="bg-gray">
	<div class="header relative">
		<div class="header-sm text-center relative px-4 py-2">
			<span class="back-icon left-4 absolute"><img src="../assets/images/icon-back-1.png"></span>
			<span class="text-lg font-semibold">积分签到</span>
			<a href="#" class="back-icon right-4 absolute">积分规则</a>
		</div>

		<div class="info flex items-center justify-center px-4">
			<div class="avatar flex-1 flex items-center gap-2">
				<img class="img-size-sm rounded-full" src="../assets/images/24-1.jpg" />
				<span class="text-3xl font-semibold">600</span>
				积分
			</div>
			<a href="#" class="btn-mall text-center">咕哒商城</a>
		</div>		

		<div class="date-card absolute left-0 right-0 mx-4 bg-white rounded-2xl px-2 py-3">
			<div class="flex">
				<div class="flex-1">
					<p>每日签到</p>
					<span class="text-sm text-gray-500">每日签到可获得50额外积分</span>
				</div>
				<span class="text-sm text-gray-500" id="calendar-btn">签到日历</span>
			</div>
			<div class="grid grid-cols-7 gap-2 mt-2">
				<div class="text-center">
					<div class="bg-day rounded checked pb-2">
						<span class="text-xs">+50</span>
						<img class="w-5 mx-auto" src="../assets/images/IntegralCheckIn/icon-check.png" />
					</div>
					<span class="text-gray-500 text-xs">周一</span>
				</div>
				<div class="text-center">
					<div class="bg-day rounded border uncheck flex items-center justify-center">
						<div class="cic">断</div>
					</div>
					<span class="text-gray-500 text-xs">周二</span>
				</div>
				<div class="text-center">
					<div class="bg-day bg-gray-100 rounded text-gray-500 flex items-center justify-center">
						<span class="text-xs">+50</span>
					</div>
					<span class="text-gray-500 text-xs">周三</span>
				</div>
				<div class="text-center">
					<div class="bg-day bg-gray-100 rounded text-gray-500 flex items-center justify-center">
						<span class="text-xs">+50</span>
					</div>
					<span class="text-gray-500 text-xs">周四</span>
				</div>
				<div class="text-center">
					<div class="bg-day bg-gray-100 rounded text-gray-500 flex items-center justify-center">
						<span class="text-xs">+50</span>
					</div>
					<span class="text-gray-500 text-xs">周五</span>
				</div>
				<div class="text-center">
					<div class="bg-day bg-gray-100 rounded text-gray-500 flex items-center justify-center">
						<span class="text-xs">+50</span>
					</div>
					<span class="text-gray-500 text-xs">周六</span>
				</div>
				<div class="text-center">
					<div class="bg-day bg-gray-100 rounded text-gray-500 flex items-center justify-center">
						<span class="text-xs">+50</span>
					</div>
					<span class="text-gray-500 text-xs">周日</span>
				</div>				
			</div>
			<p class="py-2.5">已连续签到<span class="text-xl text-orange-500">7</span>天</p>
 
			<div>
				<span class="text-xs text-white bg-orange-500 inline-block px-1 rounded-full relative tips">连续签到可获取额外积分</span>
				<div class="step relative flex">
					<div class="step-w">
						<div class="w-7 h-7 rounded-full relative bg-white-500">
							<div class="w-3 h-3 rounded-full border-2 border-orange-500 bg-white absolute left-2 top-2"></div>
						</div>
						<p class="text-xs text-gray-500 mt-1">连签2天</p>
					</div>
	
					<div class="flex-1 grid grid-cols-3 text-center">
						<div>
							<div class="flex items-center justify-center">
								<div class="w-7 h-7 rounded-full relative bg-amber-300">
									<div class="w-5 h-5 rounded-full bg-orange-500 absolute left-1 top-1 text-white text-xs flex items-center justify-center">30</div>
								</div>
							</div>
							<p class="text-xs text-gray-500 mt-1">连签3天</p>
						</div>
						<div>
							<div class="flex items-center justify-center">
								<div class="w-7 h-7 rounded-full relative bg-amber-300">
									<div class="w-5 h-5 rounded-full bg-orange-500 absolute left-1 top-1 text-white text-xs flex items-center justify-center">50</div>
								</div>
							</div>
							<p class="text-xs text-gray-500 mt-1">连签7天</p>
						</div>
						<div>
							<div class="flex items-center justify-center">
								<div class="w-7 h-7 rounded-full relative bg-amber-300">
									<div class="w-5 h-5 rounded-full bg-orange-500 absolute left-1 top-1 text-white text-xs flex items-center justify-center">100</div>
								</div>
							</div>
							<p class="text-xs text-gray-500 mt-1">连签15天</p>
						</div>
					</div>
	
					<div class="step-w">
						<div class="flex flex-row-reverse">
							<div class="w-7 h-7 rounded-full relative bg-amber-300">
								<div class="w-5 h-5 rounded-full bg-orange-500 absolute left-1 top-1 text-white text-xs flex items-center justify-center">200</div>
							</div>
						</div>
						<p class="text-xs text-gray-500 mt-1 text-rigth">连签30天</p>
					</div>
				</div>
			</div>

			<div><a href="javascript:;" id="check-in-btn"><img src="../assets/images/IntegralCheckIn/btn-1.png"></a></div>
		</div>
	</div>

	<div class="content px-3">
		<div class="grid grid-cols-2 gap-2">
			<div class="product-info rounded-tl-md bg-white relative">
				<img class="bg-tag absolute left-0 top-0" src="../assets/images/IntegralCheckIn/btn-bg.png" />
				<span class="tag absolute left-0 top-0 text-white text-xs pl-1">7日 | 拼车游</span>
				<img class="rounded-tl-md rounded-tr-md w-full" src="../assets/images/photo-1.png" />
				<div class="txt p-1">
					<span class="text-sm">四姑娘山稻城亚丁绝美川西 线四姑娘山</span>
					<div class="flex items-center justify-center">
						<div class="price text-red-500 flex-1 font-semibold">
							<span class="text-xs">￥</span>2999<span class="text-xs">起</span>
						</div>
						<div class="text-right text-xs">
							<p class="text-orange-500">近期600人浏览</p>
							<span class="text-gray-500">月销100件</span>
						</div>
					</div>
				</div>
			</div>

			<div class="product-info rounded-tl-md bg-white relative">
				<img class="bg-tag absolute left-0 top-0" src="../assets/images/IntegralCheckIn/btn-bg.png" />
				<span class="tag absolute left-0 top-0 text-white text-xs pl-1">7日 | 拼车游</span>
				<img class="rounded-tl-md rounded-tr-md w-full" src="../assets/images/photo-1.png" />
				<div class="txt p-1">
					<span class="text-sm">
						<label class="text-xs bg-orange-500 text-white p-0.5 rounded-sm px-1">热销</label>
						四姑娘山稻城亚丁绝美川西 线四姑娘山
					</span>
					<div class="flex items-center justify-center">
						<div class="price text-red-500 flex-1 font-semibold">
							<span class="text-xs">￥</span>2999<span class="text-xs">起</span>
						</div>
						<div class="text-right text-xs">
							<p class="text-orange-500">近期600人浏览</p>
							<span class="text-gray-500">月销100件</span>
						</div>
					</div>
				</div>
			</div>			
		</div>
	</div>


	<!-- 签到成功 -->
	<div class="qiandao-layer qiandao-history-layer" style="display: none;">
		<div class="qiandao-layer-con qiandao-radius">
			<div class="text-center">
				<h4 class="text-2xl font-semibold">签到成功</h4>
				<p class="text-gray-500 text-sm">已连续签到5天</p>
				<img src="../assets/images/IntegralCheckIn/icon-corn.png" style="height: 78px; margin: 0 auto;" />
				<p class="text-orange-500 text-sm font-semibold">+50</p>
				<a href="javascript:;" class="close-qiandao">
					<img src="../assets/images/IntegralCheckIn/btn-2.png" class="checkin-btn" />
				</a>
			</div>
		</div>
		<div class="qiandao-layer-bg"></div>
	</div>

	<!-- 签到日历 -->
	<div class="modal-layer calendar-box-layer">
		<div class="calendar-box bg-white z-10 rounded-tl-xl rounded-tr-xl absolute left-0 right-0 bottom-0">
			<div class="title relative text-center p-2">
				<h4 class="text-lg font-semibold">签到日历</h4>
				<span class="absolute close-btn right-5 top-4">
			<img src="../assets/images/icon-close.png"/>
		</span>
		</div>
		<div>
			<div id="schedule-check-box"></div>
		</div>
		
		</div>
		<div class="qiandao-layer-bg"></div>
	</div>

	<script src="../assets/js/tailwindcss.js"></script>
	<script src="../assets/js/jquery-1.10.2.min.js"></script>
	<script src="../assets/js/check-in.js"></script>
	<script src="../assets/js/calendar.js"></script>

	<script>
		var currentDate = new Date(); // 创建一个表示当前时间的Date对象
		var year = currentDate.getFullYear(); // 获取年份
		var month = (currentDate.getMonth() + 1).toString().padStart(2, '0'); // 获取月份（注意要加上1）并补零
		var day = currentDate.getDate().toString().padStart(2, '0'); // 获取天数并补零
		
		// 将结果格式化为"YYYY-MM-DD"形式
		var formattedDate = `${year}-${month}-${day}`;

		var radioButtons = document.getElementsByName('timeRange');
			// 定义变量来存储选中的值
			var selectedValueCurrent = "";

			// 遍历单选按钮组
			for (var i = 0; i < radioButtons.length; i++) {
					// 检查哪个单选按钮被选中
					if (radioButtons[i].checked) {
							// 获取选中的值
							selectedValueCurrent = radioButtons[i].value;
							// 退出循环，因为已经找到了选中的值
							break;
					}
			}
		$(`#h3Ele`).text(formattedDate+ ' ' + selectedValueCurrent)

	var mySchedule = new Schedule({
		el: "#schedule-check-box", //容器元素
		date: formattedDate, //当前日期
		// disabledBefore: '2023-07-10',	//禁用此日期之前
		// disabledAfter: '2023-11-15',	//禁用此日期之后
		disabledDate: ['2024-02-26', '2024-04-06' ],	// 断卡

		// selectedDate: [
		// 	{
		// 		day: '2024-02-12',
		// 		integrate: 5
		// 	},
		// 	{
		// 		day: '2024-02-13',
		// 		integrate: 15
		// 	}, // 已打卡


			selectedDate: [
    // {
    //     "day": "2024-01-25",
    //     "integrate": "20"
    // },
    // {
    //     "day": "2024-01-26",
    //     "integrate": "20"
    // },
    // {
    //     "day": "2024-02-26",
    //     "integrate": "3"
    // },
    {
        "day": "2024-02-27",
        "integrate": "20"
    },
    {
        "day": "2024-02-28",
        "integrate": "100"
    },
    {
        "day": "2024-02-29",
        "integrate": "100"
    },
    {
        "day": "2024-03-01",
        "integrate": "100"
    },
    {
        "day": "2024-03-02",
        "integrate": "100"
    },
    {
        "day": "2024-03-18",
        "integrate": "100"
    },
    {
        "day": "2024-03-20",
        "integrate": "100"
    },
    {
        "day": "2024-04-03",
        "integrate": "100"
    },
    // {
    //     "day": "2024-03-22",
    //     "integrate": "100"
    // },
    // {
    //     "day": "2024-03-23",
    //     "integrate": "100"
    // },
    // {
    //     "day": "2024-03-25",
    //     "integrate": "110"
    // },
    // {
    //     "day": "2024-03-26",
    //     "integrate": "100"
    // },
    // {
    //     "day": "2024-04-01",
    //     "integrate": "102"
    // },
    // {
    //     "day": "2024-04-07",
    //     "integrate": "100"
    // }
],

		nextMonthCb: function (currentYear, currentMonth) {
			console.log(
				"currentYear:" + currentYear,
				"currentMonth:" + currentMonth
			);
		},
		nextYeayCb: function (currentYear, currentMonth) {
			console.log(
				"currentYear:" + currentYear,
				"currentMonth:" + currentMonth
			);
		},
		prevMonthCb: function (currentYear, currentMonth) {
			console.log(
				"currentYear:" + currentYear,
				"currentMonth:" + currentMonth
			);
		},
		prevYearCb: function (currentYear, currentMonth) {
			console.log(
				"currentYear:" + currentYear,
				"currentMonth:" + currentMonth
			);
		},
	});
</script>
</body>
</html>